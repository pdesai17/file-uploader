{"version":3,"file":"filter.js","names":["stream: ReadableStream<Event>","cond: (event: Event) => event is Final"],"sources":["../src/stream/filter.ts"],"sourcesContent":["import type { WorkflowEventData } from \"@llama-flow/core\";\n\nexport function filter<\n  Event extends WorkflowEventData<any>,\n  Final extends Event,\n>(\n  stream: ReadableStream<Event>,\n  cond: (event: Event) => event is Final,\n): ReadableStream<Final> {\n  return stream.pipeThrough(\n    new TransformStream<Event, Final>({\n      transform(event, controller) {\n        if (cond(event)) {\n          controller.enqueue(event);\n        }\n      },\n    }),\n  );\n}\n"],"mappings":";AAEA,SAAgB,OAIdA,QACAC,MACuB;AACvB,QAAO,OAAO,YACZ,IAAI,gBAA8B,EAChC,UAAU,OAAO,YAAY;AAC3B,MAAI,KAAK,MAAM,CACb,YAAW,QAAQ,MAAM;CAE5B,EACF,GACF;AACF"}