{"version":3,"file":"next.js","names":["workflow: Workflow","getStart: (\n    request: NextRequest,\n  ) => WorkflowEventData<Start> | Promise<WorkflowEventData<Start>>","stop: WorkflowEvent<Stop>"],"sources":["../src/next.ts"],"sourcesContent":["import { NextRequest } from \"next/server\";\nimport type {\n  Workflow,\n  WorkflowEventData,\n  WorkflowEvent,\n} from \"@llama-flow/core\";\nimport { runWorkflow } from \"./stream/run\";\n\ntype WorkflowAPI = {\n  GET: (request: NextRequest) => Promise<Response>;\n};\n\nexport const createNextHandler = <Start, Stop>(\n  workflow: Workflow,\n  getStart: (\n    request: NextRequest,\n  ) => WorkflowEventData<Start> | Promise<WorkflowEventData<Start>>,\n  stop: WorkflowEvent<Stop>,\n): WorkflowAPI => {\n  return {\n    GET: async (request) => {\n      const result = await runWorkflow(workflow, await getStart(request), stop);\n      return Response.json(result.data);\n    },\n  };\n};\n"],"mappings":";;;AAYA,MAAa,oBAAoB,CAC/BA,UACAC,UAGAC,SACgB;AAChB,QAAO,EACL,KAAK,OAAO,YAAY;EACtB,MAAM,SAAS,MAAM,YAAY,UAAU,MAAM,SAAS,QAAQ,EAAE,KAAK;AACzE,SAAO,SAAS,KAAK,OAAO,KAAK;CAClC,EACF;AACF"}